%%
%% This is file `draftwatermark.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% draftwatermark.dtx 
%% This is file `draftwatermark.sty',
%% generated with the docstrip utility.
%% 
%% The original source files were:
%% 
%% draftwatermark.dtx
%% 
%%  IMPORTANT NOTICE:
%% 
%% Copyright 2006
%% Sergio Callegari <sergio.callegari@gmail.com>
%% 
%% ---------------------------------------------
%% This file is part of the draftwatermark package,
%% a contribution to the LaTeX2e system.
%% ---------------------------------------------
%% 
%% This program consists of the files listed in the README file included
%% in the package.
%% 
%% Any modified versions of this file must be renamed with new filenames
%% distinct from draftwatermark.sty.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file draftwatermark.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)
%% 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{draftwatermarktop}%
  [2006/06/30 1.0 Put a gray textual watermark on document pages]
\RequirePackage{everypage}
\RequirePackage{graphicx}
\RequirePackage{color}
\newif\if@sc@wm@first
\@sc@wm@firstfalse
\DeclareOption{firstpage}{%
  \@sc@wm@firsttrue}
\ProcessOptions
\newlength\sc@wm@fontsize
%% defaults
\def\sc@wm@angle{0}
\def\sc@wm@lightness{0.3}
\def\sc@wm@scale{1.5}
\setlength\sc@wm@fontsize{20pt}
\def\sc@wm@text{DRAFT: PLEASE DO NOT DISTRIBUTE}
\newcommand\SetWatermarkAngle[1]{%
  \def\sc@wm@angle{#1}}
\newcommand\SetWatermarkLightness[1]{%
  \def\sc@wm@lightness{#1}}
\newcommand\SetWatermarkFontSize[1]{%
  \setlength\sc@wm@fontsize{#1}}
\newcommand\SetWatermarkScale[1]{%
  \def\sc@wm@scale{#1}}
\newcommand\SetWatermarkText[1]{%
  \def\sc@wm@text{#1}}
\newcommand\sc@watermark{%
  \setlength{\@tempdimb}{.5\paperwidth}%
  \setlength{\@tempdimc}{-.5\paperheight}%
  \put(\strip@pt\@tempdimb,\strip@pt\@tempdimc){%
    \makebox(-100,100){\rotatebox{\sc@wm@angle}{%
        \scalebox{\sc@wm@scale}{%
        \textcolor[gray]{\sc@wm@lightness}{
          \fontsize{\sc@wm@fontsize}{20\sc@wm@fontsize}
          \selectfont
          \sc@wm@text}}}}}}
\newcommand\sc@wm@print[1]{%
  \setbox\@tempboxa\vbox to \z@{%
    \vskip -5.4in \moveleft .3in \vbox{%
      \hbox to \z@{%
        #1\hss}}\vss}
  \dp\@tempboxa\z@
  \box\@tempboxa}
\if@sc@wm@first
\AddThispageHook{\sc@wm@print{\sc@watermark}}
\else
\AddEverypageHook{\sc@wm@print{\sc@watermark}}
\fi
\endinput
%%
%% End of file `draftwatermark.sty'.
